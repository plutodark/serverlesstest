name: Serverless Delete

on:
  delete:
    branches-ignore:  
      - staging
      - production

# Specify what jobs to run
jobs:
  deploy:
    name: delete
    runs-on: ubuntu-latest
  #  env:
  #    AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
  #    AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}

    steps:
      - uses: actions/checkout@v3

      - name: Github context
        run: echo "${{ toJson(github) }}"

      - name: echo github.event_path
        run: echo "${{ github.event_path }}"
      
    #  - name: Set Branch name
    #    run: |
    #      BRANCH=$(cat ${{ github.event_path }} | jq --raw-output '.ref')
    #      echo "${{ github.repository }} has ${BRANCH} branch"
    #      echo "::set-env name=STAGE::$(echo ${BRANCH})"
    #  - name: Echo Branch name
    #    run: echo Deleting from STAGE:$STAGE

      # Install npm and it's dependencies
    #  - name: npm install dependencies
    #    run: npm install

      # sls remove
    #  - name: Serverless
    #    uses: serverless/github-action@v1.53.0
    #    with:
    #      args: remove